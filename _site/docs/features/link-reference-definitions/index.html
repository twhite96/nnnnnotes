<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Link Reference Definitions | About these notes</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Link Reference Definitions" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/docs/features/link-reference-definitions/" />
<meta property="og:url" content="http://localhost:4000/docs/features/link-reference-definitions/" />
<meta property="og:site_name" content="About these notes" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Link Reference Definitions" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Link Reference Definitions","url":"http://localhost:4000/docs/features/link-reference-definitions/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=5e25ebfb6b5b6991017cbe8f9120d8b49deb4732">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">About these notes</a></h1>
      

      <h1 id="link-reference-definitions">Link Reference Definitions</h1>

<p>When you use <code class="language-plaintext highlighter-rouge">[[wikilinks]]</code>, the <a href="https://github.com/foambubble/foam/tree/master/packages/foam-vscode">foam-vscode</a> extension can automatically generate <a href="https://spec.commonmark.org/0.29/#link-reference-definitions">Markdown Link Reference Definitions</a> at the bottom of the file. This is not needed to navigate your workspace with foam-vscode, but is useful for files to remain compatible with various Markdown tools (e.g. parsers, static site generators, VS code plugins etc), which don’t support <code class="language-plaintext highlighter-rouge">[[wikilinks]]</code>.</p>

<h2 id="example">Example</h2>

<p>The following example:</p>

<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">  -</span> [[wikilinks]]
<span class="p">  -</span> [[github-pages]]
</code></pre></div></div>

<p>…generates the following link reference definitions to the bottom of the file:</p>

<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="p">[</span><span class="ss">wikilinks</span><span class="p">]:</span> <span class="sx">wikilinks</span> <span class="nn">"Wikilinks"</span>
  <span class="p">[</span><span class="ss">github-pages</span><span class="p">]:</span> <span class="sx">github-pages</span> <span class="nn">"GitHub Pages"</span>
</code></pre></div></div>

<p>You can open the <a href="https://foambubble.github.io/foam/features/link-reference-definitions.md">raw markdown</a> to see them at the bottom of this file
You can open the <a href="https://foambubble.github.io/foam/user/features/link-reference-definitions.md">raw markdown</a> to see them at the bottom of this file</p>

<h2 id="specification">Specification</h2>

<p>The three components of a link reference definition are <code class="language-plaintext highlighter-rouge">[link-label]: link-target "Link Title"</code></p>

<ul>
  <li><strong>link label:</strong> The link text to match in the surrounding markdown document. This matches the inner bracket of the double-bracketed <code class="language-plaintext highlighter-rouge">[[wikilink]]</code> notation</li>
  <li><strong>link destination</strong> The target of the matched link
    <ul>
      <li>By default we generate links without extension. This can be overridden, see <a href="#configuration">Configuration</a> below</li>
    </ul>
  </li>
  <li><strong>“Link Title”</strong> Optional title for link (The Foam template has a snippet of JavaScript to replace this on the website at runtime)</li>
</ul>

<h2 id="configuration">Configuration</h2>

<p>You can choose to generate link reference definitions with or without file extensions, depending on the target, or to disable the generation altogether. As a rule of thumb:</p>

<ul>
  <li>Links with file extensions work better with standard markdown-based tools, such as GitHub web UI.</li>
  <li>Links without file extensions work better with certain web publishing tools that treat links as literal urls and don’t transform them automatically, such as the standard GitHub pages installation.</li>
</ul>

<p>By default, Foam generates links without file extensions for legacy reasons, but this may change in future versions.</p>

<p>You can override this setting in your Foam workspace’s <code class="language-plaintext highlighter-rouge">settings.json</code>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">"foam.edit.linkReferenceDefinitions": "withoutExtensions"</code> (default)</li>
  <li><code class="language-plaintext highlighter-rouge">"foam.edit.linkReferenceDefinitions": "withExtensions"</code></li>
  <li><code class="language-plaintext highlighter-rouge">"foam.edit.linkReferenceDefinitions": "off"</code></li>
</ul>

<h3 id="ignoring-files">Ignoring files</h3>

<p>Sometimes, you may want to ignore certain files or folders, so that Foam doesn’t generate link reference definitions to them.</p>

<p>There are three options for excluding files from your Foam project:</p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">files.exclude</code> (from VSCode) will prevent the folder from showing in the file explorer.</p>

    <blockquote>
      <p>“Configure glob patterns for excluding files and folders. For example, the file explorer decides which files and folders to show or hide based on this setting. Refer to the Search: Exclude setting to define search-specific excludes.”</p>
    </blockquote>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">files.watcherExclude</code> (from VSCode) prevents VSCode from constantly monitoring files for changes.</p>

    <blockquote>
      <p>“Configure paths or glob patterns to exclude from file watching. Paths or basic glob patterns that are relative (for example <code class="language-plaintext highlighter-rouge">build/output</code> or <code class="language-plaintext highlighter-rouge">*.js</code>) will be resolved to an absolute path using the currently opened workspace. Complex glob patterns must match on absolute paths (i.e. prefix with <code class="language-plaintext highlighter-rouge">**/</code> or the full path and suffix with <code class="language-plaintext highlighter-rouge">/**</code> to match files within a path) to match properly (for example <code class="language-plaintext highlighter-rouge">**/build/output/**</code> or <code class="language-plaintext highlighter-rouge">/Users/name/workspaces/project/build/output/**</code>). When you experience the file watcher process consuming a lot of CPU, make sure to exclude large folders that are of less interest (such as build output folders).”</p>
    </blockquote>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">foam.files.ignore</code> (from Foam) ignores files from being added to the Foam graph.</p>

    <blockquote>
      <p>“Specifies the list of globs that will be ignored by Foam (e.g. they will not be considered when creating the graph). To ignore the all the content of a given folder, use <code class="language-plaintext highlighter-rouge">&lt;folderName&gt;/**/*</code>” (requires reloading VSCode to take effect).</p>
    </blockquote>
  </li>
</ol>

<p>For instance, if you’re using a local instance of <a href="https://jekyllrb.com/">Jekyll</a>, you may find that it writes copies of each <code class="language-plaintext highlighter-rouge">.md</code> file into a <code class="language-plaintext highlighter-rouge">_site</code> directory, which may lead to Foam generating references to them instead of the original source notes.</p>

<p>You can ignore the <code class="language-plaintext highlighter-rouge">_site</code> directory by adding any of the following settings to your <code class="language-plaintext highlighter-rouge">.vscode/settings.json</code> file:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="nl">"files.exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"**/_site"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
  </span><span class="nl">"files.watcherExclude"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"**/_site"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
  </span><span class="nl">"foam.files.ignore"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"_site/**/*"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p>After changing the setting in your workspace, you can run the [[workspace-janitor]] command to convert all existing definitions.</p>

<p>See [[link-reference-definition-improvements]] for further discussion on current problems and potential solutions.</p>



<script type="text/javascript">
  // Hack: Replace page-link with "Page Title"
  document.querySelectorAll(".markdown-body a[title]").forEach((a) => {
    a.innerText = a.title;
  });
  // Hack: Remove .md extension from wikilinks to get the html in jekyll
  document.querySelectorAll("a").forEach(l => {
    if (l.href.endsWith('.md')) {
      l.href = l.href.substring(0, l.href.length-3)
    }
  })
</script>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
